model patch_cover {
  id             Int    @id @default(autoincrement())

  patch_id       Int    @unique
  patch          patch  @relation(fields: [patch_id], references: [id], onDelete: Cascade, onUpdate: NoAction)

  // VNDB image id
  image_id       String? @db.VarChar(107)
  url            String? @db.VarChar(1007)
  width          Int?
  height         Int?
  sexual         Float?
  violence       Float?
  votecount      Int?
  thumbnail_url  String? @db.VarChar(1007)
  thumb_width    Int?
  thumb_height   Int?

  created        DateTime @default(now())
  updated        DateTime @updatedAt

  @@index([image_id])
}

model patch_screenshot {
  id             Int    @id @default(autoincrement())

  patch_id       Int
  patch          patch  @relation(fields: [patch_id], references: [id], onDelete: Cascade, onUpdate: NoAction)

  image_id       String? @db.VarChar(107)
  url            String  @db.VarChar(1007)
  width          Int?
  height         Int?
  sexual         Float?
  violence       Float?
  votecount      Int?
  thumbnail_url  String? @db.VarChar(1007)
  thumb_width    Int?
  thumb_height   Int?
  order_no       Int?    @default(0)

  created        DateTime @default(now())
  updated        DateTime @updatedAt

  @@index([patch_id])
  @@index([image_id])
  @@unique([patch_id, image_id])
}

